<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DecentralVote - Blockchain Voting System</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
</head>
<body class="dark-mode">
    <div class="theme-toggle">
        <button id="theme-toggle-btn">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <div class="background-animation">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <main>
        <section id="home" class="section active">
            <h1 class="glitch-text" data-text="DecentralVote">DecentralVote</h1>
            <p class="subtitle glitch-text-small" data-text="Secure • Transparent • Blockchain-Based">Secure • Transparent • Blockchain-Based</p>
            <div class="cta-container">
                <button id="connect-wallet" class="btn primary-btn">Connect Wallet</button>
                <button id="explore-btn" class="btn secondary-btn">Learn More</button>
            </div>
        </section>

        <section id="about" class="section">
            <h2 class="section-title">About DecentralVote</h2>
            <div class="card-container">
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Secure Voting</h3>
                    <p>Your vote is encrypted and secured by blockchain technology, making it tamper-proof and immutable.</p>
                </div>
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h3>Full Transparency</h3>
                    <p>All voting records are publicly verifiable while maintaining voter anonymity.</p>
                </div>
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <h3>Instant Results</h3>
                    <p>Real-time vote counting with immediate results as soon as the voting period ends.</p>
                </div>
            </div>
            <div class="cta-container">
                <button id="back-to-home" class="btn secondary-btn">Back</button>
            </div>
        </section>

        <section id="voting" class="section">
            <div id="voting-not-connected">
                <h2 class="section-title">Connect Your Wallet</h2>
                <p>Please connect your Ethereum wallet to access the voting system.</p>
                <button id="connect-wallet-voting" class="btn primary-btn">Connect Wallet</button>
            </div>
            
            <div id="voting-connected" style="display: none;">
                <h2 class="section-title">Active Elections</h2>
                <div id="elections-container" class="elections-container">
                    <!-- Elections will be dynamically loaded here -->
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                        <p>Loading elections...</p>
                    </div>
                </div>
                
                <div id="election-details" class="election-details" style="display: none;">
                    <button id="back-to-elections" class="btn secondary-btn"><i class="fas fa-arrow-left"></i> Back to Elections</button>
                    <h3 id="election-title">Election Title</h3>
                    <p id="election-description">Election description will appear here.</p>
                    <div id="election-status" class="election-status">
                        <div class="status-indicator active"></div>
                        <span>Active</span>
                        <div class="time-remaining">
                            <i class="fas fa-clock"></i>
                            <span id="time-remaining">2 days remaining</span>
                        </div>
                    </div>
                    
                    <div id="candidates-container" class="candidates-container">
                        <!-- Candidates will be dynamically loaded here -->
                    </div>
                    
                    <div id="voting-action" class="voting-action">
                        <button id="submit-vote" class="btn primary-btn">Submit Vote</button>
                    </div>
                    
                    <div id="voting-results" class="voting-results" style="display: none;">
                        <h4>Current Results</h4>
                        <div id="results-chart" class="results-chart">
                            <!-- Results chart will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="create-election" class="section">
            <h2 class="section-title">Create New Election</h2>
            <form id="create-election-form" class="form">
                <div class="form-group">
                    <label for="election-name">Election Name</label>
                    <input type="text" id="election-name" required>
                </div>
                <div class="form-group">
                    <label for="election-description">Description</label>
                    <textarea id="election-description" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="end-date">End Date</label>
                    <input type="datetime-local" id="end-date" required>
                </div>
                
                <div class="form-group">
                    <label>Candidates</label>
                    <div id="candidates-list">
                        <div class="candidate-input">
                            <input type="text" class="candidate-name" placeholder="Candidate Name" required>
                            <input type="text" class="candidate-info" placeholder="Brief description">
                            <button type="button" class="remove-candidate"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="candidate-input">
                            <input type="text" class="candidate-name" placeholder="Candidate Name" required>
                            <input type="text" class="candidate-info" placeholder="Brief description">
                            <button type="button" class="remove-candidate"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <button type="button" id="add-candidate" class="btn secondary-btn"><i class="fas fa-plus"></i> Add Candidate</button>
                </div>
                
                <div class="form-group">
                    <label for="voter-restrictions">Voter Restrictions</label>
                    <select id="voter-restrictions">
                        <option value="none">None - Anyone can vote</option>
                        <option value="whitelist">Whitelist - Specific addresses only</option>
                    </select>
                </div>
                
                <div id="whitelist-container" class="form-group" style="display: none;">
                    <label for="whitelist-addresses">Whitelisted Addresses (one per line)</label>
                    <textarea id="whitelist-addresses" rows="3" placeholder="0x123...&#10;0x456..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" id="back-from-create" class="btn secondary-btn">Cancel</button>
                    <button type="submit" class="btn primary-btn">Create Election</button>
                </div>
            </form>
        </section>
        
        <section id="user-profile" class="section">
            <h2 class="section-title">Your Profile</h2>
            <div class="profile-container">
                <div class="profile-header">
                    <div class="avatar">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="wallet-info">
                        <h3 id="wallet-address">0x1234...5678</h3>
                        <span class="connection-status"><i class="fas fa-circle"></i> Connected</span>
                    </div>
                </div>
                
                <div class="profile-stats">
                    <div class="stat">
                        <h4>Elections Created</h4>
                        <p id="elections-created">0</p>
                    </div>
                    <div class="stat">
                        <h4>Elections Participated</h4>
                        <p id="elections-voted">0</p>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>Your Elections</h3>
                    <div id="user-elections" class="user-elections">
                        <!-- User elections will be loaded here -->
                        <p class="empty-state">You haven't created any elections yet.</p>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>Voting History</h3>
                    <div id="voting-history" class="voting-history">
                        <!-- Voting history will be loaded here -->
                        <p class="empty-state">Your voting history will appear here.</p>
                    </div>
                </div>
                
                <div class="cta-container">
                    <button id="disconnect-wallet" class="btn danger-btn">Disconnect Wallet</button>
                    <button id="back-from-profile" class="btn secondary-btn">Back</button>
                </div>
            </div>
        </section>
    </main>
    
    <nav class="main-nav">
        <ul>
            <li><button class="nav-btn" data-section="home"><i class="fas fa-home"></i><span>Home</span></button></li>
            <li><button class="nav-btn" data-section="voting"><i class="fas fa-vote-yea"></i><span>Vote</span></button></li>
            <li><button class="nav-btn" data-section="create-election"><i class="fas fa-plus-circle"></i><span>Create</span></button></li>
            <li><button class="nav-btn" data-section="user-profile"><i class="fas fa-user"></i><span>Profile</span></button></li>
        </ul>
    </nav>
    
    <div id="notification" class="notification">
        <div class="notification-content">
            <i class="notification-icon"></i>
            <p class="notification-message"></p>
        </div>
        <button class="notification-close"><i class="fas fa-times"></i></button>
    </div>
    
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Modal Title</h3>
                <button id="modal-close" class="modal-close"><i class="fas fa-times"></i></button>
            </div>
            <div id="modal-body" class="modal-body">
                <!-- Modal content will be dynamically added here -->
            </div>
            <div id="modal-footer" class="modal-footer">
                <!-- Modal buttons will be dynamically added here -->
            </div>
        </div>
    </div>

    <!-- Web3 and Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.0/web3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    
    <!-- App Scripts -->
    <script src="app.js">
        AOS.init();
    </script>
    <script src="blockchain.js"></script>
</body>
</html>
